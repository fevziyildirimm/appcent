{"ast":null,"code":"import _regeneratorRuntime from\"/home/fy/Videos/appcent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/fy/Videos/appcent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/fy/Videos/appcent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/fy/Videos/appcent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/fy/Videos/appcent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/fy/Videos/appcent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _taggedTemplateLiteral from\"/home/fy/Videos/appcent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{Component}from\"react\";import styled from\"styled-components\";import YouTube from\"react-youtube\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Div=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n\\n  box-sizing: border-box;\\n\\n  .background {\\n    width: 100%;\\n    height: 60vh;\\n    position: absolute;\\n    overflow: hidden;\\n    background: linear-gradient(to bottom, #000, transparent, #000);\\n  }\\n\\n  .backdrop {\\n    width: 100%;\\n    height: 100%;\\n    position: relative;\\n    z-index: -1;\\n    overflow: hidden;\\n    object-fit: cover;\\n    object-position: center;\\n  }\\n  .poster {\\n    height: 400px;\\n    margin: 40px 40px 20px 40px;\\n    border: 5px solid white;\\n    z-index: 1;\\n  }\\n  .info {\\n    display: flex;\\n    color: white;\\n    width: 100%;\\n    height: 70vh;\\n    justify-content: center;\\n    z-index: 100;\\n  }\\n  p {\\n    padding: 20px 0;\\n  }\\n  .detail-poster {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    z-index: 100;\\n  }\\n  .content-info {\\n    width: 50%;\\n    margin-top: 40px;\\n    z-index: 100;\\n  }\\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\\n\\n\"])));export var MovieInfo=/*#__PURE__*/function(_Component){_inherits(MovieInfo,_Component);var _super=_createSuper(MovieInfo);function MovieInfo(){var _this;_classCallCheck(this,MovieInfo);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={movie:[],trailer:[]};return _this;}_createClass(MovieInfo,[{key:\"getTrailer\",value:function(){var _getTrailer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://api.themoviedb.org/3/movie/\"+this.props.id+\"/videos?api_key=c377a4de61abbc33e2fbb5bc071c6537&language=en-US\").then(function(data){return data.json();}).then(function(data){return _this2.setState({trailer:data.results});});case 2:console.log(this.state.trailer);case 3:case\"end\":return _context.stop();}}},_callee,this);}));function getTrailer(){return _getTrailer.apply(this,arguments);}return getTrailer;}()},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this3=this;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://api.themoviedb.org/3/movie/\"+this.props.id+\"?api_key=c377a4de61abbc33e2fbb5bc071c6537&language=en-US\").then(function(response){return response.json();}).then(function(data){_this3.setState({movie:data});});case 2:_context2.next=4;return this.getTrailer();case 4:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"_onReady\",value:function _onReady(event){event.target.pauseVideo();}},{key:\"render\",value:function render(){var opts={height:300,width:500,playerVars:{autoplay:0}};var _this$state$movie=this.state.movie,poster_path=_this$state$movie.poster_path,backdrop_path=_this$state$movie.backdrop_path,title=_this$state$movie.title,overview=_this$state$movie.overview,genres=_this$state$movie.genres;return/*#__PURE__*/_jsxs(Div,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"background\",children:backdrop_path&&/*#__PURE__*/_jsx(\"img\",{src:\"http://image.tmdb.org/t/p/w1280/\"+backdrop_path,alt:\"img\",className:\"backdrop\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-poster\",children:[poster_path&&/*#__PURE__*/_jsx(\"img\",{src:\"https://image.tmdb.org/t/p/w500/\"+poster_path,className:\"poster\",alt:\"img\"}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Categories\"}),genres&&this.state.movie.genres.map(function(genre,key){return genre.name+\",\";}/* + (key!=genres.lenght&& \",\")  */)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsx(\"p\",{children:overview}),/*#__PURE__*/_jsx(YouTube,{videoId:this.state.trailer?this.state.trailer.length?this.state.trailer[0].key:\"-\":\"-\",opts:opts,onReady:this._onReady})]})]})]});}}]);return MovieInfo;}(Component);export default MovieInfo;","map":{"version":3,"sources":["/home/fy/Videos/appcent/src/MovieInfo.js"],"names":["React","Component","styled","YouTube","Div","div","MovieInfo","state","movie","trailer","fetch","props","id","then","data","json","setState","results","console","log","response","getTrailer","event","target","pauseVideo","opts","height","width","playerVars","autoplay","poster_path","backdrop_path","title","overview","genres","map","genre","key","name","length","_onReady"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport YouTube from \"react-youtube\";\n\nconst Div = styled.div`\n\n  box-sizing: border-box;\n\n  .background {\n    width: 100%;\n    height: 60vh;\n    position: absolute;\n    overflow: hidden;\n    background: linear-gradient(to bottom, #000, transparent, #000);\n  }\n\n  .backdrop {\n    width: 100%;\n    height: 100%;\n    position: relative;\n    z-index: -1;\n    overflow: hidden;\n    object-fit: cover;\n    object-position: center;\n  }\n  .poster {\n    height: 400px;\n    margin: 40px 40px 20px 40px;\n    border: 5px solid white;\n    z-index: 1;\n  }\n  .info {\n    display: flex;\n    color: white;\n    width: 100%;\n    height: 70vh;\n    justify-content: center;\n    z-index: 100;\n  }\n  p {\n    padding: 20px 0;\n  }\n  .detail-poster {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    z-index: 100;\n  }\n  .content-info {\n    width: 50%;\n    margin-top: 40px;\n    z-index: 100;\n  }\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n\n`;\nexport class MovieInfo extends Component {\n  state = {\n    movie: [],\n    trailer: [],\n  };\n  async getTrailer() {\n    await fetch(\n      \"https://api.themoviedb.org/3/movie/\" +\n        this.props.id +\n        \"/videos?api_key=c377a4de61abbc33e2fbb5bc071c6537&language=en-US\"\n    )\n      .then((data) => data.json())\n      .then((data) => this.setState({ trailer: data.results }));\n    console.log(this.state.trailer);\n  }\n  async componentDidMount() {\n    await fetch(\n      \"https://api.themoviedb.org/3/movie/\" +\n        this.props.id +\n        \"?api_key=c377a4de61abbc33e2fbb5bc071c6537&language=en-US\"\n    )\n      .then((response) => response.json())\n      .then((data) => {\n        this.setState({ movie: data });\n      });\n    await this.getTrailer();\n  }\n  _onReady(event) {\n    event.target.pauseVideo();\n  }\n\n  render() {\n    const opts = {\n      height: 300,\n      width: 500,\n      playerVars: {\n        autoplay: 0,\n      },\n    };\n    const { poster_path, backdrop_path, title, overview, genres } =\n      this.state.movie;\n    return (\n      <Div>\n        <div className=\"background\">\n          {backdrop_path && (\n            <img\n              src={\"http://image.tmdb.org/t/p/w1280/\" + backdrop_path}\n              alt=\"img\"\n              className=\"backdrop\"\n            />\n          )}\n        </div>\n        <div className=\"info\">\n          <div className=\"detail-poster\">\n            {poster_path && (\n              <img\n                src={\"https://image.tmdb.org/t/p/w500/\" + poster_path}\n                className=\"poster\"\n                alt=\"img\"\n              />\n            )}\n            <span>\n              <h2>Categories</h2>\n              {genres &&\n                this.state.movie.genres.map(\n                  (genre, key) =>\n                    genre.name + \",\" /* + (key!=genres.lenght&& \",\")  */\n                )}\n            </span>\n          </div>\n          <div className=\"content-info\">\n            <h2>{title}</h2>\n            <p>{overview}</p>\n            <YouTube\n              videoId={\n                this.state.trailer\n                  ? this.state.trailer.length\n                    ? this.state.trailer[0].key\n                    : \"-\"\n                  : \"-\"\n              }\n              opts={opts}\n              onReady={this._onReady}\n            />\n          </div>\n        </div>\n      </Div>\n    );\n  }\n}\n\nexport default MovieInfo;\n"]},"metadata":{},"sourceType":"module"}